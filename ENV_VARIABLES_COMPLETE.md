# üìã Environment Variables - Tam Siyahƒ±

Bu faylda proyektin i≈ül…ôm…ôsi √º√ß√ºn lazƒ±m olan **B√úT√úN** environment variables var.

---

## üé® FRONTEND Environment Variables

### Development (`.env` v…ô ya `.env.development`)

Fayl yaradƒ±n: `ExperienceSharing/.env`

```env
REACT_APP_API_BASE_URL=http://localhost:5029/api
REACT_APP_GEMINI_API_KEY=
REACT_APP_GOOGLE_CLIENT_ID=680043772059-av648urt1kjqrqucf47q43tm908egorb.apps.googleusercontent.com
```

**A√ßƒ±qlama:**
| Variable | Required | A√ßƒ±qlama | Default |
|----------|----------|---------|---------|
| `REACT_APP_API_BASE_URL` | ‚úÖ Yes | Backend API base URL | `http://localhost:5029/api` |
| `REACT_APP_GEMINI_API_KEY` | ‚ùå No | Google Gemini AI API key (AI moderation √º√ß√ºn) | Empty = Mock mode |
| `REACT_APP_GOOGLE_CLIENT_ID` | ‚úÖ Yes | Google OAuth Client ID | Provided |

---

### Production (`.env.production`)

Fayl yaradƒ±n: `ExperienceSharing/.env.production`

```env
REACT_APP_API_BASE_URL=https://your-backend-domain.com/api
REACT_APP_GEMINI_API_KEY=
REACT_APP_GOOGLE_CLIENT_ID=680043772059-av648urt1kjqrqucf47q43tm908egorb.apps.googleusercontent.com
```

**‚ö†Ô∏è Production-da D…ôyi≈üdirin:**
- `REACT_APP_API_BASE_URL` ‚Üí Sizin backend domain-iniz
- `REACT_APP_GOOGLE_CLIENT_ID` ‚Üí Yeni credentials yaradƒ±n (production √º√ß√ºn)

---

## üñ•Ô∏è BACKEND Environment Variables

### Development (PowerShell)

```powershell
# Navigate to backend directory
cd C:\Users\Hasan\OneDrive\Desktop\Experiencesharing\depo_diplom\Experience-master\ExperienceProject

# SMTP Configuration (Email g√∂nd…ôrm…ô)
$env:SMTP_HOST="smtp.gmail.com"
$env:SMTP_PORT="587"
$env:SMTP_USERNAME="wanderly.project@gmail.com"
$env:SMTP_PASSWORD="rxeejzckwmwipomd"
$env:SMTP_FROM_EMAIL="wanderly.project@gmail.com"

# Frontend URL (CORS v…ô password reset email-l…ôri √º√ß√ºn)
$env:FRONTEND_URL="http://localhost:3000"

# Google OAuth
$env:GOOGLE_CLIENT_ID="680043772059-av648urt1kjqrqucf47q43tm908egorb.apps.googleusercontent.com"

# Run
dotnet run --launch-profile http
```

**A√ßƒ±qlama:**
| Variable | Required | A√ßƒ±qlama | Example |
|----------|----------|---------|---------|
| `SMTP_HOST` | ‚úÖ Yes | SMTP server host | `smtp.gmail.com` |
| `SMTP_PORT` | ‚úÖ Yes | SMTP server port | `587` (TLS) |
| `SMTP_USERNAME` | ‚úÖ Yes | Email account username | `your-email@gmail.com` |
| `SMTP_PASSWORD` | ‚úÖ Yes | **Gmail App Password** (16 chars, no spaces) | `abcdefghijklmnop` |
| `SMTP_FROM_EMAIL` | ‚úÖ Yes | Sender email address | `your-email@gmail.com` |
| `FRONTEND_URL` | ‚úÖ Yes | Frontend base URL (CORS v…ô reset links √º√ß√ºn) | `http://localhost:3000` |
| `GOOGLE_CLIENT_ID` | ‚úÖ Yes | Google OAuth Client ID | Provided |

---

### Development (Bash - Linux/Mac)

```bash
#!/bin/bash

# Navigate to backend directory
cd /path/to/ExperienceProject

# SMTP Configuration
export SMTP_HOST="smtp.gmail.com"
export SMTP_PORT="587"
export SMTP_USERNAME="wanderly.project@gmail.com"
export SMTP_PASSWORD="rxeejzckwmwipomd"
export SMTP_FROM_EMAIL="wanderly.project@gmail.com"

# Frontend URL
export FRONTEND_URL="http://localhost:3000"

# Google OAuth
export GOOGLE_CLIENT_ID="680043772059-av648urt1kjqrqucf47q43tm908egorb.apps.googleusercontent.com"

# Run
dotnet run --launch-profile http
```

---

### Production (.env v…ô ya Platform Environment Variables)

**Railway, Render, Azure, Heroku v…ô s. √º√ß√ºn:**

```env
# === SMTP Email Configuration === #
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=wanderly.project@gmail.com
SMTP_PASSWORD=rxeejzckwmwipomd
SMTP_FROM_EMAIL=wanderly.project@gmail.com

# === Frontend URL === #
FRONTEND_URL=https://your-frontend-domain.vercel.app

# === Google OAuth === #
GOOGLE_CLIENT_ID=680043772059-av648urt1kjqrqucf47q43tm908egorb.apps.googleusercontent.com

# === Database === #
ConnectionStrings__DefaultConnection=Server=your-db-server.database.windows.net,1433;Database=ExperienceSharingDB;User Id=your-admin;Password=your-strong-password;Encrypt=True;TrustServerCertificate=True;

# === JWT Configuration === #
Jwt__Key=your-super-secret-jwt-key-minimum-32-characters-CHANGE-THIS-IN-PRODUCTION
Jwt__Issuer=https://your-backend-domain.up.railway.app
Jwt__Audience=https://your-frontend-domain.vercel.app

# === Cloudinary (Image Upload) === #
Cloudinary__CloudName=dcdwya8kj
Cloudinary__ApiKey=928331919936363
Cloudinary__ApiSecret=j5yLvU_DPqLSl0eDDfpJhPbr7o4

# === Port (if required by hosting platform) === #
PORT=8080
```

**‚ö†Ô∏è Production-da D…ôyi≈üdirin:**
- `FRONTEND_URL` ‚Üí Sizin frontend domain-iniz
- `ConnectionStrings__DefaultConnection` ‚Üí Sizin database connection string-iniz
- `Jwt__Key` ‚Üí T…ôsad√ºfi 32+ karakter (g√ºcl√º olsun!)
- `Jwt__Issuer` ‚Üí Backend domain-iniz
- `Jwt__Audience` ‚Üí Frontend domain-iniz
- `Cloudinary__*` ‚Üí Yeni Cloudinary account yaradƒ±n (optional)

**‚ö†Ô∏è Gmail App Password Nec…ô Yaradƒ±lƒ±r:**
1. [Google Account](https://myaccount.google.com/) ‚Üí **Security**
2. **2-Step Verification** aktiv edin
3. **App passwords** ‚Üí **Generate**
4. **Mail** se√ßin ‚Üí **Other (Custom name)** ‚Üí "ExperienceSharing"
5. 16-character password-u kopyalayƒ±n (m…ôs…ôl…ôn: `abcd efgh ijkl mnop`)
6. Bo≈üluqlarƒ± silin: `abcdefghijklmnop`
7. `SMTP_PASSWORD`-d…ô istifad…ô edin

---

## üîê appsettings.json (Backend)

`ExperienceProject/appsettings.json` faylƒ±nda:

```json
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=ExperienceSharingDB;Trusted_Connection=True;"
  },
  "Jwt": {
    "Key": "your-super-secret-jwt-key-min-32-characters",
    "Issuer": "https://localhost:7295",
    "Audience": "https://localhost:7295",
    "DurationInMinutes": "60"
  },
  "Cloudinary": {
    "CloudName": "dcdwya8kj",
    "ApiKey": "928331919936363",
    "ApiSecret": "j5yLvU_DPqLSl0eDDfpJhPbr7o4"
  },
  "SMTP": {
    "Host": "smtp.gmail.com",
    "Port": 587,
    "Username": "",
    "Password": "",
    "FromEmail": ""
  }
}
```

**‚ö†Ô∏è Qeyd:** Environment variables `appsettings.json`-dakƒ± d…ôy…ôrl…ôri override edir!

---

## üåê Platform-Specific Konfiqurasiya

### Vercel (Frontend)

**Dashboard ‚Üí Settings ‚Üí Environment Variables:**

```
REACT_APP_API_BASE_URL = https://your-backend.up.railway.app/api
REACT_APP_GOOGLE_CLIENT_ID = 680043772059-av648urt1kjqrqucf47q43tm908egorb.apps.googleusercontent.com
REACT_APP_GEMINI_API_KEY = (optional)
```

**Build Settings:**
- Build Command: `npm run build`
- Output Directory: `build`
- Install Command: `npm install`

---

### Railway (Backend)

**Dashboard ‚Üí Variables tab:**

Railway-d…ô h…ôr variable √º√ß√ºn **+ New Variable** basƒ±b …ôlav…ô edin:

```
SMTP_HOST = smtp.gmail.com
SMTP_PORT = 587
SMTP_USERNAME = wanderly.project@gmail.com
SMTP_PASSWORD = rxeejzckwmwipomd
SMTP_FROM_EMAIL = wanderly.project@gmail.com
FRONTEND_URL = https://your-vercel-app.vercel.app
GOOGLE_CLIENT_ID = 680043772059-av648urt1kjqrqucf47q43tm908egorb.apps.googleusercontent.com
ConnectionStrings__DefaultConnection = [PostgreSQL connection string from Railway]
Jwt__Key = [Generate strong 32+ char key]
Jwt__Issuer = https://your-railway-app.up.railway.app
Jwt__Audience = https://your-vercel-app.vercel.app
Cloudinary__CloudName = dcdwya8kj
Cloudinary__ApiKey = 928331919936363
Cloudinary__ApiSecret = j5yLvU_DPqLSl0eDDfpJhPbr7o4
```

**‚ö†Ô∏è PostgreSQL Connection String (Railway):**
Railway PostgreSQL database yaratdƒ±qda avtomatik connection string verir:
```
postgresql://postgres:password@containers-us-west-123.railway.app:5432/railway
```

**Entity Framework Core PostgreSQL √º√ß√ºn:**
```bash
dotnet add package Npgsql.EntityFrameworkCore.PostgreSQL
```

`Program.cs`-d…ô:
```csharp
builder.Services.AddDbContext<ApplicationDbContext>(options =>
    options.UseNpgsql(builder.Configuration.GetConnectionString("DefaultConnection")));
```

---

### Render.com (Backend)

**Dashboard ‚Üí Environment:**

Render-d…ô **Environment** tab-ƒ±na ke√ßin v…ô …ôlav…ô edin (Railway il…ô eyni):

```
SMTP_HOST = smtp.gmail.com
SMTP_PORT = 587
(v…ô s. - Railway kimi)
```

**Build Command:**
```bash
dotnet publish -c Release -o out
```

**Start Command:**
```bash
dotnet out/ExperienceProject.dll
```

---

### Azure App Service (Backend)

**Azure Portal ‚Üí App Service ‚Üí Configuration ‚Üí Application Settings:**

H…ôr variable √º√ß√ºn **+ New application setting**:

```
Name: SMTP_HOST
Value: smtp.gmail.com

Name: SMTP_PORT
Value: 587

(v…ô s. - Railway kimi)
```

**Connection String (SQL Server):**
Azure SQL Database yaratdƒ±qda connection string alƒ±rsƒ±nƒ±z:
```
Server=tcp:your-server.database.windows.net,1433;Initial Catalog=ExperienceSharingDB;Persist Security Info=False;User ID=your-admin;Password=your-password;MultipleActiveResultSets=False;Encrypt=True;TrustServerCertificate=False;Connection Timeout=30;
```

---

## üîë G√ºcl√º JWT Key Yaratmaq

### PowerShell:
```powershell
-join ((65..90) + (97..122) + (48..57) | Get-Random -Count 32 | % {[char]$_})
```

### Bash (Linux/Mac):
```bash
openssl rand -base64 32
```

### Online:
https://www.random.org/strings/

**Settings:**
- Length: 32
- Characters: Letters & Numbers
- Generate

---

## ‚úÖ Yoxlama Listi

### Environment Variables T…ôyin Edilib?

**Frontend:**
- [ ] `REACT_APP_API_BASE_URL`
- [ ] `REACT_APP_GOOGLE_CLIENT_ID`
- [ ] `REACT_APP_GEMINI_API_KEY` (optional)

**Backend:**
- [ ] `SMTP_HOST`
- [ ] `SMTP_PORT`
- [ ] `SMTP_USERNAME`
- [ ] `SMTP_PASSWORD` (Gmail App Password!)
- [ ] `SMTP_FROM_EMAIL`
- [ ] `FRONTEND_URL`
- [ ] `GOOGLE_CLIENT_ID`
- [ ] `ConnectionStrings__DefaultConnection`
- [ ] `Jwt__Key` (32+ characters)
- [ ] `Jwt__Issuer`
- [ ] `Jwt__Audience`
- [ ] `Cloudinary__CloudName`
- [ ] `Cloudinary__ApiKey`
- [ ] `Cloudinary__ApiSecret`

### Test Edildi?
- [ ] Backend build olur? (`dotnet build`)
- [ ] Backend i≈ü…ô d√º≈ü√ºr? (`dotnet run`)
- [ ] Frontend build olur? (`npm run build`)
- [ ] Frontend backend-…ô request g√∂nd…ôrir?
- [ ] Login/SignUp i≈ül…ôyir?
- [ ] Google OAuth i≈ül…ôyir?
- [ ] Email g√∂nd…ôrilir? (Forgot Password)
- [ ] Image upload i≈ül…ôyir? (Cloudinary)

---

## üìû Probleml…ôr?

H…ôr hansƒ± environment variable problem yaranarsa:

1. **D…ôy…ôrin d√ºzg√ºn yazƒ±ldƒ±ƒüƒ±nƒ± yoxlayƒ±n** (bo≈üluq, typo)
2. **Quote istifad…ô edin** PowerShell-d…ô: `$env:VAR="value"`
3. **Backend restart edin** env variables d…ôyi≈üdirdikd…ôn sonra
4. **Platform logs yoxlayƒ±n** (Railway/Render/Azure)
5. **Browser console yoxlayƒ±n** (F12)

---

**Uƒüurlar deployment-da! üöÄ**

